# MLUONET - 企业管理系统

## 项目概述

MLUONET是一个现代化的企业管理系统，提供完整的业务管理解决方案，包括报价、采购、发票、装箱单等核心功能。

## 主要功能

### 核心业务模块
- **报价管理**: 创建和管理客户报价单
- **采购管理**: 处理供应商采购订单
- **发票管理**: 生成和管理发票
- **装箱单管理**: 创建详细的装箱清单
- **邮件系统**: 集成邮件发送功能

### 404页面娱乐功能
- **五子棋游戏**: 经典的五子棋对战游戏
- **2048游戏**: 数字合并游戏，支持AI推演功能

## 2048游戏推演功能

### 功能特点
- **AI自动推演**: 使用Expectimax算法和蒙特卡洛树搜索进行智能推演
- **随机演示**: 使用随机方向移动进行调试和演示
- **实时统计**: 显示推演步数、模拟次数、当前分数等
- **速度控制**: 支持快速、正常、慢速、极慢四种推演速度
- **手动干预**: 可随时暂停推演并进行手动操作
- **撤销功能**: 支持撤销到上一步状态
- **单步推演**: 可以手动控制AI走一步

### 使用方法
1. **开始推演**: 点击"开始推演"按钮，AI将自动进行游戏
2. **暂停推演**: 点击"暂停推演"按钮停止自动推演
3. **单步推演**: 点击"单步推演"按钮，AI走一步
4. **随机演示**: 点击"随机演示"按钮，使用随机方向移动
5. **撤销操作**: 点击"撤销"按钮回到上一步
6. **速度调节**: 使用下拉菜单调整推演速度
7. **手动干预**: 在推演过程中可以随时进行手动操作

### 算法说明
- **Expectimax算法**: 2层深度搜索，支持Alpha-Beta剪枝优化
- **蒙特卡洛树搜索**: 备选算法，支持100次随机模拟
- **综合评估函数**: 基于空格数量、合并潜力、单调性、平滑度、角落策略和死路惩罚
- **状态管理**: 完整的撤销栈和状态快照管理，使用JSON深拷贝确保状态隔离

### 技术实现
- **React Hooks**: 使用useState、useEffect、useRef管理状态
- **算法优化**: 避免阻塞主线程的计算密集型操作
- **响应式设计**: 适配移动端和桌面端
- **性能监控**: 实时显示推演统计信息

## 技术栈

- **前端框架**: Next.js 14 (App Router)
- **UI组件**: Tailwind CSS
- **图标库**: Lucide React
- **状态管理**: React Hooks
- **部署平台**: Vercel

## 开发环境

```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start
```

## 项目结构

```
mluonet/
├── src/
│   ├── app/                 # Next.js App Router页面
│   ├── components/          # React组件
│   ├── lib/                 # 工具库和配置
│   ├── types/               # TypeScript类型定义
│   └── utils/               # 工具函数
├── public/                  # 静态资源
└── scripts/                 # 构建脚本
```

## 部署

项目已配置为Vercel部署，包含以下优化：

- **字体优化**: 中文字体压缩和预加载
- **图片优化**: Logo和图标资源优化
- **性能监控**: 实时性能数据收集
- **错误处理**: 完善的错误边界和404页面

## 更新日志

### 最新版本
- ✅ 新增2048游戏AI推演功能
- ✅ 实现Expectimax算法和蒙特卡洛树搜索
- ✅ 添加随机演示功能，用于调试和蒙特卡洛模拟
- ✅ 添加推演统计和速度控制
- ✅ 支持手动干预和撤销功能
- ✅ 优化移动端用户体验
- ✅ 修复状态同步问题，使用JSON深拷贝确保状态隔离
- ✅ 增强AI算法性能，支持Alpha-Beta剪枝优化
- ✅ 添加调试日志，便于问题排查
- ✅ 修复重新开始功能数据恢复问题，确保重新开始后刷新页面不会恢复老数据

## 贡献指南

欢迎提交Issue和Pull Request来改进项目。

## 许可证

MIT License